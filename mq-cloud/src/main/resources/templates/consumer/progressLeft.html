<#list response.result as consumerProgressVO>
    <tr>
		<#assign row = RequestParameters.begin?number + consumerProgressVO_index + 1> 
        <td>${row}</td>
        <td><a style="cursor:pointer" title="查看消费详情" data-target="#consumeDetailModel${row}" data-toggle="modal" <#if consumerProgressVO.minLastTimestamp gt 0 && consumerProgressVO.minLastTimestamp lt long.MAX_VALUE>onclick="getQueueOwner('${consumerProgressVO.consumer.name}', '${consumerProgressVO.consumer.id}')"</#if>>${consumerProgressVO.consumer.name}</a></td>
        <#if consumerProgressVO.ownerList??>
            <td>
                <#if consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1>
                    <#list consumerProgressVO.ownerList as user>
                        <#if user_index != 0>
                        ,
                        </#if>
                        <span onclick="prepareDeleteUserConsumer(${user.id},'${user.name!user.getEmailName()}',${consumerProgressVO.consumer.id})" data-toggle="tooltip" title="移除${user.name!user.getEmailName()}?" class="producer_delete pointer">${user.name!user.getEmailName()}</span>
                    </#list>
                    <span class="glyphicon glyphicon-plus-sign pointer" data-toggle="tooltip" title="授权其他用户查看${consumerProgressVO.consumer.name}?" onclick="associateUserConsumer(${consumerProgressVO.consumer.id},'${consumerProgressVO.consumer.name}')"></span>
                <#else>
                    <#list consumerProgressVO.ownerList as user>
                        <#if user_index != 0>
                        ,
                        </#if>
                        <span>${user.name!user.getEmailName()}</span>
                    </#list>
                </#if>  		
            </td>
        <#else>
            <td>暂无</td>
        </#if>
        <td class="edit-text" <#if consumerProgressVO.consumer.info?? && consumerProgressVO.consumer.info?length gt 12>data-toggle="tooltip" title="${consumerProgressVO.consumer.info}"</#if>>
            <#if consumerProgressVO.consumer.info?? && consumerProgressVO.consumer.info?length gt 12>
                <#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)><span style="cursor:pointer" onclick="showUpdateInfo(${consumerProgressVO.consumer.id}, '${consumerProgressVO.consumer.name}', '${consumerProgressVO.consumer.info!}')"></#if>${consumerProgressVO.consumer.info?substring(0,12)}...<#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)></span></#if>
            <#else>
                <#if consumerProgressVO.consumer.info?? && consumerProgressVO.consumer.info !=''>
                    <#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)><span style="cursor:pointer" data-toggle="tooltip" title="修改用途" onclick="showUpdateInfo(${consumerProgressVO.consumer.id}, '${consumerProgressVO.consumer.name}', '${consumerProgressVO.consumer.info!}')"></#if>${consumerProgressVO.consumer.info}<#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)></span></#if>
                <#else>
                    <#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)>
                        <button type="button" class="btn-sm btn-success" onclick="showUpdateInfo(${consumerProgressVO.consumer.id}, '${consumerProgressVO.consumer.name}', '${consumerProgressVO.consumer.info!}')">添加</button>
                    </#if>
                </#if>
            </#if>
        </td>
        <td>集群</td>
        <td>${consumerProgressVO.diff}</td>
        <td>${consumerProgressVO.consumeTpsFormat}</td>
       	<td>
       		<#if topic.traceEnabled()>
	       		<#if (consumerProgressVO.ownerList?? && consumerProgressVO.ownerList?seq_contains(userInfo.user)) || userInfo.user.type == 1>
		   			<#if consumerProgressVO.consumer.traceEnabled()>
		   				<span style="cursor:pointer" class="glyphicon glyphicon-eye-open" data-toggle="tooltip" title="关闭trace?" onclick="updateConsumerTraceShow(${consumerProgressVO.consumer.id}, '${consumerProgressVO.consumer.name}', 1)"></span>
		   			<#else>
		   				<span style="cursor:pointer" class="glyphicon glyphicon-eye-close" data-toggle="tooltip" title="开启trace?" onclick="updateConsumerTraceShow(${consumerProgressVO.consumer.id}, '${consumerProgressVO.consumer.name}', 0)"></span>
		   			</#if>
		   		<#else>
		   			<#if consumerProgressVO.consumer.traceEnabled()><span class="glyphicon glyphicon-eye-open"></span><#else><span class="glyphicon glyphicon-eye-close"></span></#if>
	   			</#if>
	   		<#else>
  				<span class="glyphicon glyphicon-eye-close" data-toggle="tooltip" title="topic未开启trace"></span>
  			</#if>
   		</td>
        <#if consumerProgressVO.minLastTimestamp == 0>
            <td>暂无</td>
        <#else>
            <#if consumerProgressVO.minLastTimestamp == long.MAX_VALUE>
                <td>消费进度不存在</td>
            <#else>
                <td>${consumerProgressVO.minLastTimestamp?number_to_datetime?string("yyyy-MM-dd HH:mm:ss")}</td>
            </#if>
        </#if>
        <td>
            <#if (consumerProgressVO.ownerList?? && consumerProgressVO.ownerList?seq_contains(userInfo.user)) || userInfo.user.type == 1>
                <#if consumerProgressVO.offsetMap??>
                    <button title="跳过堆积的消息，直接消费至最新的消息" type="button" class="btn-sm btn-success" data-target="#skipAccumulationModel${row}" data-toggle="modal">跳过堆积</button>
                    <button title="消费过去一段时间至现在的消息" type="button" class="btn-sm btn-success" data-target="#resetOffSetModel${row}" data-toggle="modal">消息回溯</button>
                </#if>
                <button type="button" class="btn-sm btn-warning" data-target="#deleteConsumerModel${row}" data-toggle="modal"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
            </#if>
            <#if consumerProgressVO.offsetMap??>
            <!-- 详情 -->
            <div id="consumeDetailModel${row}" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog" style="width:700px">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>${consumerProgressVO.consumer.name}</b> 消费详情</h4>
                        </div>
                        <#if consumerProgressVO.dlqTopic?? && consumerProgressVO.dlqOffsetMap??>
                            <table class="table table-striped table-hover" style="margin-top: 0px">
                                <thead>
                                    <tr>
                                        <td class="warning" colspan=7>死消息Topic：<b style="color:red" data-toggle="tooltip" 
                                        title="消费失败达到最大重试次数(16)后，将会进入此topic，不再重试">${consumerProgressVO.dlqTopic}</b>
                                            &nbsp;&nbsp;&nbsp;<span title="搜索死消息" class="glyphicon glyphicon-search" style="cursor:pointer;" 
                                            onclick="initOffsetMsgModal('dlq', ${row}, '${consumerProgressVO.dlqTopic}','${consumerProgressVO.dlqMaxOffset?c}')" data-target="#offsetMsgSearchModal" data-toggle="modal"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>broker</td>
                                        <td>队列</td>
                                        <td>最小偏移量</td>
                                        <td>最大偏移量</td>
                                        <td>消息量</td>
                                        <td>更新时间</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <#list consumerProgressVO.dlqOffsetMap as k, v>
                                        <tr>
                                            <td>${k.brokerName}</td>
                                            <td>${k.queueId}</td>
                                            <td>
                                                ${v.minOffset?string(",###")}
                                            </td>
                                            <td>
                                                ${v.maxOffset?string(",###")}
                                            </td>
                                            <td>
                                                ${v.maxOffset - v.minOffset}
                                            </td>
                                            <#if v.lastUpdateTimestamp <= 0>
                                                <td data-toggle='tooltip' title="可能消息被删了">暂无</td>
                                            <#else>
                                                <td>
                                                    ${v.lastUpdateTimestamp?number_to_datetime?string("yyyy-MM-dd HH:mm:ss")}
                                                </td>
                                            </#if>
                                        </tr>
                                    </#list>
                                </tbody>
                            </table>
                        </#if>
                        <#if consumerProgressVO.retryTopic?? && consumerProgressVO.retryOffsetMap??>
                            <table class="table table-striped table-hover" style="margin-top: 0px">
                                <thead>
                                    <tr>
                                        <td class="warning" colspan=7>重试Topic：<b style="color:red" data-toggle="tooltip" 
                                        title="消费失败的消息，会重新发回到此topic，以便重试消费">${consumerProgressVO.retryTopic}</b>
                                        &nbsp;&nbsp;&nbsp;<span title="搜索重试消息" class="glyphicon glyphicon-search" style="cursor:pointer;" 
                                        onclick="initOffsetMsgModal('retry', ${row}, '${consumerProgressVO.retryTopic}','${consumerProgressVO.retryMaxOffset?c}')" data-target="#offsetMsgSearchModal" data-toggle="modal"></span>
                                        &nbsp;&nbsp;&nbsp;<span title="跳过重试消息" class="glyphicon glyphicon-fast-forward" style="cursor:pointer;" 
                                        onclick="showResetRetryMessageOffsetModel(${consumerProgressVO.consumer.id}, '${consumerProgressVO.consumer.name}')" data-toggle="modal"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>客户端</td>
                                        <td>broker</td>
                                        <td>队列</td>
                                        <td>broker偏移量</td>
                                        <td>消费者偏移量</td>
                                        <td>堆积量</td>
                                        <td>消费到</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <#list consumerProgressVO.retryOffsetMap as k, v>
                                        <tr>
                                            <td id="1_${consumerProgressVO.consumer.id}_${k.brokerName}_${k.queueId}"></td>
                                            <td>${k.brokerName}</td>
                                            <td>${k.queueId}</td>
                                            <td>
                                                ${v.brokerOffset?string(",###")}
                                            </td>
                                            <td>
                                                ${v.consumerOffset?string(",###")}
                                            </td>
                                            <td>
                                                ${v.brokerOffset - v.consumerOffset}
                                            </td>
                                            <#if v.lastTimestamp <= 0>
                                                <td data-toggle='tooltip' title="可能消息被删了">暂无</td>
                                            <#else>
                                                <td>
                                                    ${v.lastTimestamp?number_to_datetime?string("yyyy-MM-dd HH:mm:ss")}
                                                </td>
                                            </#if>
                                        </tr>
                                    </#list>
                                </tbody>
                            </table>
                        </#if>
                        <table class="table table-striped table-hover" style="margin-top: 0px">
                            <thead>
                                <tr>
                                    <td class="warning" colspan=7>Topic：<b>${consumerProgressVO.topic}</td>
                                </tr>
                                <tr>
                                    <td>客户端</td>
                                    <td>broker</td>
                                    <td>队列</td>
                                    <td>broker偏移量</td>
                                    <td>消费者偏移量</td>
                                    <td>堆积量</td>
                                    <td>消费到</td>
                                </tr>
                            </thead>
                            <tbody>
                                <#list consumerProgressVO.offsetMap as k, v>
                                    <tr>
                                        <td id="0_${consumerProgressVO.consumer.id}_${k.brokerName}_${k.queueId}"></td>
                                        <td>${k.brokerName}</td>
                                        <td>${k.queueId}</td>
                                        <td>
                                            ${v.brokerOffset?string(",###")}
                                        </td>
                                        <td>
                                            ${v.consumerOffset?string(",###")}
                                        </td>
                                        <td>
                                            ${v.brokerOffset - v.consumerOffset}
                                        </td>
                                        <#if v.lastTimestamp <= 0>
                                            <td data-toggle='tooltip' title="可能消息被删了">暂无</td>
                                        <#else>
                                            <td>
                                                ${v.lastTimestamp?number_to_datetime?string("yyyy-MM-dd HH:mm:ss")}
                                            </td>
                                        </#if>
                                    </tr>
                                </#list>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div> <!-- 详情结束 -->
            <!-- 跳过堆积 -->
            <div id="skipAccumulationModel${row}" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>确定跳过堆积的消息吗?</h4>
                        </div>
                        <form class="form-horizontal form-bordered form-row-stripped">
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-body">
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> Topic: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.topic}" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> 消费者: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.consumer.name}" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div  class="modal-footer">
                                <button type="button" data-dismiss="modal" class="btn" >取消</button>
                                <button type="button" id="skipAccumulationBtn${row}" class="btn btn-primary" onclick="skipAccumulation(${consumerProgressVO.consumer.tid},${consumerProgressVO.consumer.id},'skipAccumulationBtn${row}')">确定</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div><!-- 跳过堆积结束 -->
            <!-- 消息回溯-->
            <div id="resetOffSetModel${row}" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>消息回溯</h4>
                        </div>
                        <form class="form-horizontal form-bordered form-row-stripped">
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-body">
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> Topic: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.topic}" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> 消费者: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.consumer.name}" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> 回溯到: </label>
                                                <div class="col-md-5">
                                                    <input type="text" id="resetOffsetDate${row}" name="resetOffsetDate" class="Wdate form-control" onclick="WdatePicker({ dateFmt: 'yyyy-MM-dd HH:mm:ss',maxDate:'%y-%M-%d',minDate:'%y-%M-{%d-5}'})" style="width:100%;height:34px;cursor:pointer;" readonly="readonly">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div  class="modal-footer">
                                <button type="button" data-dismiss="modal" class="btn" >取消</button>
                                <button type="button" id="resetOffsetBtn${row}" class="btn btn-primary" onclick="resetOffset(${row},${consumerProgressVO.consumer.tid},${consumerProgressVO.consumer.id},'resetOffsetBtn${row}')">确定</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div><!-- 消息回溯-->
            </#if>
            <!-- 删除consumer -->
            <div id="deleteConsumerModel${row}" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>确定删除消费者吗?</h4>
                        </div>
                        <form class="form-horizontal form-bordered form-row-stripped">
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-body">
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> Topic: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.topic}" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> 消费者: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.consumer.name}" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div  class="modal-footer">
                                <button type="button" data-dismiss="modal" class="btn" >取消</button>
                                <button type="button" id="deleteConsumerBtn${row}" class="btn btn-primary" onclick="deleteConsumer(${consumerProgressVO.consumer.tid},${consumerProgressVO.consumer.id},'deleteConsumerBtn${row}')">确定</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- 删除consumer-->
        </td>
    </tr>
</#list>
<!-- 广播模式 -->
<#list resultExt.result as consumerProgressVO>
    <tr>
    	<#assign row = RequestParameters.begin?number + consumerProgressVO_index + 1 + response.result?size> 
        <td>${row}</td>
        <td><a style="cursor:pointer" title="查看消费详情" data-target="#consumeDetailModel${row}b" data-toggle="modal">${consumerProgressVO.consumer.name}</a></td>
        <#if consumerProgressVO.ownerList??>
            <td>
                <#if consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1>
                    <#list consumerProgressVO.ownerList as user>
                        <#if user_index != 0>
                        ,
                        </#if>
                        <span onclick="prepareDeleteUserConsumer(${user.id},'${user.name!user.getEmailName()}',${consumerProgressVO.consumer.id})" data-toggle="tooltip" title="移除${user.name!user.getEmailName()}?" class="producer_delete pointer">${user.name!user.getEmailName()}</span>
                    </#list>
                    <span class="glyphicon glyphicon-plus-sign pointer" data-toggle="tooltip" title="授权其他用户查看${consumerProgressVO.consumer.name}?" onclick="associateUserConsumer(${consumerProgressVO.consumer.id},'${consumerProgressVO.consumer.name}')"></span>
                <#else>
                    <#list consumerProgressVO.ownerList as user>
                        <#if user_index != 0>
                        ,
                        </#if>
                        <span>${user.name!user.getEmailName()}</span>
                    </#list>
                </#if>    		
            </td>
        <#else>
            <td>暂无</td>
        </#if>
        <td class="edit-text" <#if consumerProgressVO.consumer.info?? && consumerProgressVO.consumer.info?length gt 12>data-toggle="tooltip" title="${consumerProgressVO.consumer.info}"</#if>>
            <#if consumerProgressVO.consumer.info?? && consumerProgressVO.consumer.info?length gt 12>
                <#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)><span style="cursor:pointer" onclick="showUpdateInfo(${consumerProgressVO.consumer.id}, '${consumerProgressVO.consumer.name}', '${consumerProgressVO.consumer.info!}')"></#if>${consumerProgressVO.consumer.info?substring(0,12)}...<#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)></span></#if>
            <#else>
                <#if consumerProgressVO.consumer.info?? && consumerProgressVO.consumer.info !=''>
                    <#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)><span style="cursor:pointer" data-toggle="tooltip" title="修改用途" onclick="showUpdateInfo(${consumerProgressVO.consumer.id}, '${consumerProgressVO.consumer.name}', '${consumerProgressVO.consumer.info!}')"></#if>${consumerProgressVO.consumer.info}<#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)></span></#if>
                <#else>
                    <#if consumerProgressVO.ownerList?? && (consumerProgressVO.ownerList?seq_contains(userInfo.user) || userInfo.user.type == 1)>
                        <button type="button" class="btn-sm btn-success" onclick="showUpdateInfo(${consumerProgressVO.consumer.id}, '${consumerProgressVO.consumer.name}', '${consumerProgressVO.consumer.info!}')">添加</button>
                    </#if>
                </#if>
            </#if>
        </td>
        <td>广播</td>
        <td>${consumerProgressVO.diff}</td>
        <td>${consumerProgressVO.consumeTpsFormat}</td>
        <td><span class="glyphicon glyphicon-eye-close" data-toggle="tooltip" title="广播模式不支持trace"></span></td>
        <#if consumerProgressVO.minLastTimestamp == 0>
            <td>暂无</td>
        <#else>
            <#if consumerProgressVO.minLastTimestamp == long.MAX_VALUE>
                <td>消费进度不存在</td>
            <#else>
                <td>${consumerProgressVO.minLastTimestamp?number_to_datetime?string("yyyy-MM-dd HH:mm:ss")}</td>
            </#if>
        </#if>
        <td>
            <#if (consumerProgressVO.ownerList?? && consumerProgressVO.ownerList?seq_contains(userInfo.user)) || userInfo.user.type == 1>
                <#if consumerProgressVO.offsetMap??>
                    <button title="跳过堆积的消息，直接消费至最新的消息" type="button" class="btn-sm btn-success" data-target="#skipAccumulationModel${row}b" data-toggle="modal">跳过堆积</button>
                    <button title="消费过去一段时间至现在的消息" type="button" class="btn-sm btn-success" data-target="#resetOffSetModel${row}b" data-toggle="modal">消息回溯</button>
                </#if>
                <button type="button" class="btn-sm btn-warning" data-target="#deleteConsumerModel${row}b" data-toggle="modal"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
            </#if>
            <#if consumerProgressVO.offsetMap??>
            <!-- 详情 -->
            <div id="consumeDetailModel${row}b" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog" style="width:700px">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>${consumerProgressVO.consumer.name}</b> 消费详情</h4>
                        </div>
                        <table class="table table-striped table-hover" style="margin-top: 0px">
                            <thead>
                                <tr>
                                    <td>clientId</td>
                                    <td>broker</td>
                                    <td>队列</td>
                                    <td>broker偏移量</td>
                                    <td>消费者偏移量</td>
                                    <td>堆积量</td>
                                </tr>
                            </thead>
                            <tbody>
                                <#list consumerProgressVO.consumeStatsList as consumeStats>
                                    <tr>
                                        <td rowspan=${consumeStats.offsetTable?size+1}>${consumeStats.clientId}</td>
                                    </tr>
                                    <#list consumeStats.offsetTable as mq,offset>
                                    <tr>
                                        <td>${mq.brokerName}</td>
                                        <td>${mq.queueId}</td>
                                        <td>
                                            ${offset.brokerOffset?string(",###")}
                                        </td>
                                        <td>
                                            ${offset.consumerOffset?string(",###")}
                                        </td>
                                        <td>
                                            ${offset.brokerOffset - offset.consumerOffset}
                                        </td>
                                    </tr>
                                    </#list>
                                </#list>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div> <!-- 详情结束 -->
            <!-- 跳过堆积 -->
            <div id="skipAccumulationModel${row}b" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>确定跳过堆积的消息吗?</h4>
                        </div>
                        <form class="form-horizontal form-bordered form-row-stripped">
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-body">
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> Topic: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.topic}" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> 消费者: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.consumer.name}" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div  class="modal-footer">
                                <button type="button" data-dismiss="modal" class="btn" >取消</button>
                                <button type="button" id="skipAccumulationBtn${row}b" class="btn btn-primary" onclick="skipAccumulation(${consumerProgressVO.consumer.tid},${consumerProgressVO.consumer.id},'skipAccumulationBtn${row}b')">确定</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div><!-- 跳过堆积结束 -->
            <!-- 消息回溯-->
            <div id="resetOffSetModel${row}b" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>消息回溯</h4>
                        </div>
                        <form class="form-horizontal form-bordered form-row-stripped">
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-body">
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> Topic: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.topic}" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> 消费者: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.consumer.name}" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> 回溯到: </label>
                                                <div class="col-md-5">
                                                    <input type="text" id="resetOffsetDate${row}b" name="resetOffsetDate" class="Wdate form-control" onclick="WdatePicker({ dateFmt: 'yyyy-MM-dd HH:mm:ss',maxDate:'%y-%M-%d',minDate:'%y-%M-{%d-5}'})" style="width:100%;height:34px;cursor:pointer;" readonly="readonly">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div  class="modal-footer">
                                <button type="button" data-dismiss="modal" class="btn" >取消</button>
                                <button type="button" id="resetOffsetBtn${row}b" class="btn btn-primary" onclick="resetOffset('${row}b',${consumerProgressVO.consumer.tid},${consumerProgressVO.consumer.id},'resetOffsetBtn${row}b')">确定</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div><!-- 消息回溯-->
            </#if>
            <!-- 删除consumer -->
            <div id="deleteConsumerModel${row}b" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title"><b>确定删除消费者吗?</h4>
                        </div>
                        <form class="form-horizontal form-bordered form-row-stripped">
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-body">
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> Topic: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.topic}" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-md-3"> 消费者: </label>
                                                <div class="col-md-5">
                                                    <input type="text" readonly="readonly" value="${consumerProgressVO.consumer.name}" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div  class="modal-footer">
                                <button type="button" data-dismiss="modal" class="btn" >取消</button>
                                <button type="button" id="deleteConsumerBtn${row}b" class="btn btn-primary" onclick="deleteConsumer(${consumerProgressVO.consumer.tid},${consumerProgressVO.consumer.id},'deleteConsumerBtn${row}b')">确定</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- 删除consumer-->
        </td>
    </tr>
</#list>